/**
 * @name Exponent - Main
 * @author Saltssaumure#7557
 * @description Main section of the Exponent theme. Please download the autoupdater from https://github.com/Saltssaumure/xp-discord-theme/releases/tag/latest.
 * @version 1.0
*/
@use "_membersListToggle.scss";

@import url("https://discordstyles.github.io/HorizontalServerList/dist/HorizontalServerList.css");
@import url("https://discordstyles.github.io/Addons/bottomhsl.css");

:root {
    --HSL-server-icon-size: 25px;  /* Size of the server icons | DEFAULT: 40px */
    --HSL-server-spacing: 10px;  /* Spacing between each server icon | DEFAULT: 10px */
    --HSL-server-direction: column; /* Direct of the server list. | Options: column, column-reverse | DEFAULT: column */

    --font-primary: Tahoma, sans-serif;
    --font-display: Tahoma, sans-serif;
    --font-code: Fixedsys, monospace;  
}  
code,
.markup-eYLPri pre {
    font-family: var(--font-code);
}

// SCSS variables
$blue-select: rgb(22, 101, 202);

// Variables
.theme-dark,
.theme-light {

}

// Popout variables
.layerContainer-2v_Sit .theme-dark,
.layerContainer-2v_Sit .theme-light {

}

$test-color: rgb(56, 57, 121);

body #app-mount {

    // Member list
    $panel-width: 240px;
    $panel-height: 53px;

    // Chat window
    $window-top: 50px;
    $window-right: 120px;
    $window-bottom: 50px;
    $window-left: 270px;

    background-color: grey;

// Very top window bar
.titleBar-1it3bQ {
    position: absolute;
    left: $window-left;
    right: $window-right;
    top: calc($window-top - 18px);
    background: $test-color;   
}

// Image background
.bg-1QIAus {
    background: var(--background-image, url(https://saltssaumure.github.io/xp-discord-theme/img/bliss.jpg)) center/cover;
}

// Main view
.container-1eFtFS {

    // Servers sidebar
    // leave gap in server bar for user settings
    .guilds-2JjMmN {
        height: calc(100vw - $panel-width)!important;
        left: calc(100vw - $panel-width);
        z-index: 0;

        .scroller-3X7KbA {
            background: linear-gradient(
                to left,
                $blue-select,    
                $blue-select 12%,
                rgb(87, 140, 208)
            );
            box-shadow: (
                inset 0 0 3px 2px $blue-select,
                inset -2px 0 2px 1px hsla(0,0%,255%,0.8)
            );
            padding-top: 0!important;

            // DMs icon
            .tutorialContainer-1pL9QS {
                position: relative;
                background: green;
                padding: 15px 0 40px 0;
                &::after {
                    content: "";
                    display: block;
                    position: absolute;
                    height: 10px;
                    width: 100%;
                    border-radius: 0 0 50% 50%;
                    bottom: -5px;
                    background: inherit;
                }
            }
        }
    }

    // Channels sidebar and main chat
    .base-2jDfDU {

        // Channels sidebar
        .sidebar-1tnWFu {
            --background-modifier-selected: #{$blue-select};
            --channels-default: black;
            --channel-icon: black;
            --interactive-hover: black;
            --interactive-active: black;
            --interactive-muted: lightgrey;

            position: absolute;
            bottom: 0;
            max-height: 60vh;
            background: transparent;
            border-radius: 3px 3px 0 0;
            box-shadow: 2px 15px 3px 2px hsla(0,0%,0%,0.4);

            @mixin startMenuTop() {
                border-radius: 8px 8px 0 0;
                background: linear-gradient(
                    to bottom,
                    $blue-select,    
                    $blue-select 12%,
                    rgb(87, 140, 208)
                );
                box-shadow: (
                    inset 0 0 3px 2px $blue-select,
                    inset 1px 2px 2px 1px hsla(0,0%,255%,0.8)
                );
            }

            @mixin startMenuList() {
                background: white;
                border: 1px solid $blue-select;

                &::before {
                    content: "";
                    display: block;
                    width: 100%;
                    height: 2px;
                    background: linear-gradient(to right, transparent, orange, transparent);
                }
            }

            @mixin startMenuDivider($offset) {
                &::before {
                    content: "";
                    display: block;
                    position: absolute;
                    top: $offset;
                    width: 100%;
                    height: 2px;
                    background: linear-gradient(to right, transparent 10%, lightgrey, transparent 90%);
                }
            }

            // Title and channels
            .container-1NXEtd {
                background: transparent;

                // Title
                .header-3OsQeK {
                    @include startMenuTop();
                }

                // Server image banner
                .animatedContainer-2laTjx {
                    background: transparent;
                    z-index: 2;
                    border-radius: 8px 8px 0 0;
                    .bannerImage-ubW8K-::before {
                        display: none;
                    }
                }

                // Channels
                .scroller-1ox3I2 {
                    @include startMenuList();

                    // Divider
                    .sectionDivider-189lqb {
                        background: transparent;
                    }

                    // Category 
                    .containerDefault-3TQ5YN:not(:nth-child(2)) {
                        @include startMenuDivider(7px);
                    }

                    // Channel
                    .content-1gYQeQ,
                    .container-32HW5s {
                        border-radius: 0;
                    }
                }
            }

            // DMs
            .privateChannels-oVe7HL  {
                background: transparent;

                // Find conversation
                .searchBar-3TnChZ {
                    @include startMenuTop();
                }

                // DMs and friends
                .scroller-WSmht3 {
                    @include startMenuList();
                }

                // DMs category
                .privateChannelsHeaderContainer-1UWASm {
                    position: relative;
                    @include startMenuDivider(2px);
                }
            }
            
            // Self panel
            .panels-3wFtMD {
                width: $panel-width;
                height: $panel-height;
                position: fixed;
                top: calc(100% - $panel-height);
                left: calc(100vw - $panel-width);
            }
        }   

        // Main DM and friend list view
        .container-2cd8Mz {
            margin: $window-top $window-right $window-bottom $window-left;
        }

        // Main chat and top bar
        .chat-2ZfjoI {
            margin: $window-top $window-right $window-bottom $window-left;
            // Top bar   
                // moved to membersListToggle.scss 
            // Main chat
            .chatContent-3KubbW {

                // Message
                .message-2CShn3 {
                    margin-right: 100px!important;
                }
            }
            // Members list
            .container-2o3qEW,
            .membersWrap-3NUR2t {
                position: fixed;
                right: 30px;
                top: 150px;
                height: 65vh;
                min-height: 450px;
            }
        }
    }
}

// Settings menu
.layer-86YKbF {
    background: transparent;
    .standardSidebarView-E9Pc3j {
        margin: $window-top $window-right $window-bottom $window-left;
    }
}

// Popouts
.layerContainer-2v_Sit {
    .messagesPopoutWrap-3zryHW {
        max-height: calc(100vh - $window-top - 120px)!important;
    }
}

}