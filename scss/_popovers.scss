@use "_vars.scss" as *;

// Popouts
.layerContainer-2lfOPe {
    // Inbox etc window
    .messagesPopoutWrap-3zryHW {
        border-radius: 8px 8px 0 0;
        max-height: calc(100vh - $window-top - 120px) !important;

        // No "protips" please
        .footer-5ji8u1 {
            display: none;
        }
    }

    // Tooltips
    .tooltip-33Jwqe {
        background: $beige;
        border: 1px solid black;
        color: black;
        border-radius: 0;

        .guildNameText-jBFbNC {
            color: inherit;
        }

        .tooltipPointer-sMBQqe {
            border-top-color: black;
        }
    }

    // Small menus
    .menu-2TXYjN {
        --interactive-normal: var(--xp-txt-color);
        background: var(--xp-bg-tint-color);
        border: 1px solid var(--xp-border-color);
        border-radius: 0;

        // Menu item
        .colorDefault-2_rLdz {
            // Focused menu item
            &.focused-3LIdPu {
                background: $blue-select;
                border-radius: 0;
            }

            .icon-3XHs8t {
                // Radio button
                path[d^="M12 20C16.4183"] {
                    d: path("M 12 22 A 1 1 0 0 0 12 2 A 1 1 0 0 0 12 22 Z M 12 21 A 1 1 0 0 0 12 3 A 1 1 0 0 0 12 21 Z");
                }

                // circle
                .radioSelection-3PDNAQ {
                    color: $green-bright;
                }

                // Checkbox
                .checkbox-397WsK {
                    d: path("M 2 2 V 22 H 22 V 2 Z M 3 3 V 21 H 21 V 3 Z");
                    color: var(--xp-txt-color);
                }

                .check-3-73a4 {
                    color: $green-bright;
                }
            }
        }

        // Slider bar
        .bar-2H7Q9u {
            @include bgButton($isBeige: true);
            border: none;

            .barFill-3RgCsY {
                background: transparent;
            }
        }

        // Handle
        .grabber-3R-Rx9 {
            @include bgButton($isBeige: true, $isInset: true);
            height: 16px;
            width: 10px;
            margin-top: -1px;
            border: solid $green-bright;
            border-width: 3px 0;
        }
    }

    // Inbox
    .recentMentionsPopout-2bI1ZN {
        // Top bar
        .header-145e10 {
            @include windowTitle;
            --interactive-normal: var(--xp-txt-color);
            --interactive-active: var(--xp-txt-color);

            // Mentions / unreads tabs
            .topPill-2vcLsa {
                position: absolute;
                bottom: -1px;
                z-index: 1;
                align-items: base;

                .tab-TRrPC8 {
                    background: var(--xp-bg-tint-color);
                    border-radius: 3px 3px 0 0;
                    border: solid $blue-select;
                    border-width: 1px 1px 0 1px;
                    margin: 0;

                    // Selected tab
                    &.selected-g-kMVV {
                        padding-top: 1px;
                        height: 25px;
                        background: linear-gradient(to bottom, orange, white 10%, $beige 80%);
                    }

                    // Hovered tab
                    &:hover {
                        color: var(--xp-txt-color);
                    }
                }
            }
        }

        // Mark all as read button
        &.container-2ebMPP {
            .header-145e10 .button-1_oXub {
                @include winButton(26px, false);
            }
        }

        // Filter mentions button
        &.messagesPopoutWrap-3zryHW {
            .header-145e10 .button-1_oXub {
                @include winButton(26px, false);
            }
        }

        // Content
        .messagesPopout-eVzQcI,
        .scroller-145h9c {
            @include startMenuList;
            --header-primary: var(--xp-txt-color);
            --header-secondary: grey;
            background: var(--xp-bg-tint-color);

            // Channel unread group
            .channel-3NJZ1V,
            .container-iA3Qrz {
                // Channel group header
                .channelHeader-DFRX8q {
                    background: var(--xp-bg-tint-color);

                    // Buttons
                    .button-1_oXub {
                        @include bgButton;
                    }
                }

                // Message group
                .messages-23can0,
                .messageContainer-3VTXBC {
                    @include indentBox;
                }
            }
        }
    }

    // Threads
    .browser-mnQ1T7 {
        border-radius: 8px 8px 0 0;

        // Top bar
        .header-3_zmOb {
            @include windowTitle;

            // #
            .threadIcon-rd1kqG {
                color: white;
            }

            // Search bar
            .searchBox-3IjAC1 {
                @include bgButton($isBeige: true, $isInset: true);

                .input-2m5SfJ {
                    color: black;
                }
            }

            // Close button
            .closeIcon-11tHJX {
                @include winButton(26px, true);
                display: flex;
                align-items: center;
                justify-content: center;
            }

            // Create thread button
            .createButton-oruGBs {
                @include bgButton($isBeige: true);
            }
        }

        // Content
        .list-3YHPPb {
            @include startMenuList;
            background: var(--xp-bg-tint-color);

            // Thread age
            .sectionHeader-QsOv68 {
                color: var(--xp-txt-color) !important;
            }

            // Thread
            .container-2rzKKA {
                @include indentBox;
                border: 0;
            }

            // No threads
            .container-2c4_8A {
                .defaultColor-HXu-5n,
                .text-md-normal-304U3g {
                    color: var(--xp-txt-color) !important;
                }

                .button-f2h6uQ {
                    @include bgButton;
                }
            }
        }
    }

    // Pinned messages
    .messagesPopoutWrap-3zryHW {
        .header-1w9Q93 {
            @include windowTitle;
        }

        .messagesPopout-eVzQcI {
            @include startMenuList;
            background: var(--xp-bg-tint-color);

            .messageGroupWrapper-1jf_7C {
                @include indentBox;
                border: 0;
            }

            .body-GBnhET {
                color: var(--xp-txt-color);
            }
        }
    }

    // User profile
    // Popout or in profile settings
    .userPopoutOuter-3AVBmJ {
        border-radius: 0;
        @include windowHasPseudoTitle("User info");

        &::before {
            width: 100%;
            left: 0;
        }

        .avatarWrapper-3y0KZ1 {
            left: 24px;
        }

        // All profiles
        .userPopoutInner-1hXSeY {
            // Edit profile button
            .pencilContainer-11Kuga {
                @include bgButton;

                .pencilIcon-1MUmnO {
                    color: var(--xp-txt-color);
                }
            }

            // Hypesquad etc badges
            .profileBadges-31rDHI {
                @include bgButton;
            }

            // Inner box
            .overlayBackground-1KgwVi {
                border-radius: 0;
                --font-primary: Tahoma, sans-serif;
                --font-display: Tahoma, sans-serif;
                @include indentBox;

                // Roles
                .rolePill-2IJ1vo {
                    @include bgButton;
                }

                // User note
                .note-6O4w9y {
                    @include indentBox;
                }

                // Message user
                .messageInputContainer-2rGDH8 {
                    @include indentBox;
                }
            }
        }

        // Unstyled profile
        .userProfileInnerThemedNonPremium-1gT-zY {
            background: var(--xp-bg-tint-color);
            --interactive-active: var(--xp-txt-color);
            --header-primary: var(--xp-txt-color);
            --header-secondary: var(--xp-set-color);
            --text-normal: var(--xp-txt-color);
            --background-secondary: var(--xp-bg-tint-color);
            --interactive-muted: var(--xp-bg-tint-color);

            // Inner box
            .overlayBackground-1KgwVi {
                background: var(--xp-bg-color);
            }
        }

        .rolePill-2IJ1vo .defaultColor-1EVLSt {
            color: var(--xp-txt-color);
        }
    }

    // VC ping
    .container-1ILvLB {
        @include beigeBox;

        .popoutText-3NRmTw {
            color: var(--xp-txt-color);
        }
    }

    // Stream preview
    .streamPreview-I7itZ6 {
        @include beigeBox;

        .watchButton-2YRKxv {
            @include bgButton;
        }
    }

    // Select role preview
    .container-3ssFyj {
        @include beigeBox;

        // Search role
        .container-2oNtJn {
            @include bgButton($isInset: true);
        }

        // Role
        .item-1BCeuB {
            border-radius: 0;

            &.selected-22ukbQ {
                background: $blue-select;
            }

            .itemLabel-27pirQ span {
                background: var(--xp-bg-tint-color);
            }

            // Checkbox
            .box-BHImcZ {
                border-radius: 0;

                &.checked-1pZh2h {
                    background: $beige !important;

                    path {
                        fill: $green-bright !important;
                    }
                }
            }
        }
    }

    // Emoji info
    .popoutContainer-2wbmiM {
        @include beigeBox;

        // Nitro button
        .shinyButton-2Q9MDB {
            @include bgButton;
        }
    }

    // Color picker
    .colorPickerCustom-1swUKF {
        @include beigeBox;

        // Hex code box
        .input-2g-os5 {
            @include bgButton;
        }

        // Suggested colour buttons
        .suggestedColor-2q1U7c {
            @include bgButton;
        }

        // Saturation brightness grid
        .saturation-CLQHFD {
            @include boxShadow($isInset: true);
        }

        // Hue slider
        .hue-horizontal {
            @include boxShadow;

            // Grabber
            div:last-child {
                height: 12px;
                width: 10px;
                margin-top: -4px;

                div {
                    border-radius: 3px;
                    border: solid $green-bright;
                    border-width: 3px 0;
                    @include boxShadow($isInset: true);
                }
            }
        }
    }

    // Search options
    .container-2McqkF {
        --header-secondary: var(--xp-txt-color);
        --text-muted: var(--xp-txt-color);
        --interactive-normal: var(--xp-txt-color);
        --search-popout-option-non-text-color: var(--xp-txt-color);
        --search-popout-option-user-nickname: var(--xp-txt-color);
        --search-popout-option-user-username: var(--xp-txt-color);
        --search-popout-date-picker-hint-text: var(--xp-txt-color);
        --background-floating: var(--xp-bg-tint-color);
        --background-modifier-hover: #{$blue-select};
        --search-popout-option-fade: linear-gradient(to right, transparent, var(--xp-bg-tint-color) ;);
        --search-popout-option-fade-hover: linear-gradient(to right, transparent, #{$blue-select} 60%);
        border-radius: 0;
        border: 1px solid var(--xp-border-color);

        .option-ayUoaq {
            border-radius: 0;
        }

        .react-datepicker {
            background: var(--xp-bg-tint-color);

            .react-datepicker__navigation {
                @include bgButton;
                background-size: 30%;
                background-repeat: no-repeat;
                background-position: center;
                background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='18' height='25'%3E%3Cpath fill='%23000' fill-rule='evenodd' d='M17.338 12.485c-4.156 4.156-8.312 8.312-12.468 12.467-1.402-1.402-2.805-2.804-4.207-4.206 2.756-2.757 5.513-5.514 8.27-8.27C6.176 9.72 3.419 6.963.663 4.207L4.87 0c-.058-.059 12.555 12.562 12.468 12.485z' clip-rule='evenodd'/%3E%3C/svg%3E");
            }

            .react-datepicker__header {
                background: transparent;

                .react-datepicker__current-month,
                .react-datepicker__day-name {
                    color: var(--xp-txt-color);
                }
            }

            .react-datepicker__month {
                border: 1px solid var(--xp-border-color);
                border-radius: 3px;

                .react-datepicker__day:not(.react-datepicker__day--disabled) {
                    @include bgButton;
                    border-radius: 0;
                    border: 0;

                    &.react-datepicker__day--outside-month {
                        background: var(--xp-bg-tint-color);
                    }
                }

                .react-datepicker__day--disabled {
                    background: var(--xp-bg-tint-color);
                    color: grey;
                }
            }
        }

        .hintValue-V9hd8l {
            @include bgButton;

            &:hover {
                background: inherit;
            }
        }
    }

    // Emoji pickers
    #emoji-picker-tab-panel {
        --interactive-normal: var(--xp-txt-color);
        --interactive-hover: var(--xp-txt-color);
        --interactive-active: var(--xp-txt-color);
        --text-normal: var(--xp-txt-color);
        --header-secondary: var(--xp-txt-color);
        --background-primary: #{$blue-select};

        .header-11eigE {
            background: var(--xp-bg-tint-color);
            border-radius: 0;

            .searchBar-2M9mRP {
                @include bgButton($isInset: true);
            }

            .diversitySelectorButton-2CGlo5,
            .diversitySelectorOptions-3DhNYs {
                @include bgButton;
                padding: 3px;
            }
        }

        .emojiPicker-6YCk8a {
            background: var(--xp-bg-color);
            border-radius: 0;

            // Emoji grid
            .bodyWrapper-1eSOtW {
                box-shadow: (inset 0 0 2px 2px grey);

                // Section title
                .wrapper-1NNaWG {
                    background: linear-gradient(to bottom, transparent, var(--xp-bg-color), transparent);
                }

                // Hovered emoji
                .emojiItem-277VFM.emojiItemSelected-2Lg50V {
                    @include bgButton($isInset: true);
                }
            }

            // Emoji info
            .inspector-DFKXwB {
                background: var(--xp-bg-tint-color);
            }
        }

        .categoryList-2qRrlj {
            background: var(--xp-bg-tint-color);
        }
    }

    // Reaction emoji picker
    .animatorLeft-3yvG13 > #emoji-picker-tab-panel {
        @include windowHasPseudoTitle("Add a reaction");

        &::before {
            left: -2px;
        }
    }

    // Gif / sticker / emoji picker
    .contentWrapper-3vHNP2 {
        --interactive-normal: var(--xp-txt-color);
        --interactive-hover: var(--xp-txt-color);
        --interactive-active: var(--xp-txt-color);
        --text-normal: var(--xp-txt-color);
        --header-secondary: var(--xp-txt-color);
        --background-primary: #{$blue-select};
        --background-tertiary: transparent;
        background: var(--xp-bg-tint-color);
        border-radius: 0;
        @include windowHasPseudoTitle("Chat addition");

        &::before {
            left: -2px;
        }

        overflow: visible;

        // Gif / sticker / emoji buttons
        .navButton-1XuvI- {
            @include bgButton;

            &.navButtonActive-1EqC5l {
                @include bgButton($isInset: true);
            }
        }

        // Gif / sticker searchbar
        .container-1SX9VC,
        .container-2oNtJn {
            @include bgButton($isInset: true);
        }

        // Sticker picker
        #sticker-picker-tab-panel {
            // Sticker grid
            #sticker-picker-grid {
                background: var(--xp-bg-color);
                box-shadow: (inset 0 0 2px 2px var(--xp-bg-shade-color));

                // Section title
                .wrapper-1NNaWG {
                    background: linear-gradient(to bottom, transparent, var(--xp-bg-color), transparent);
                }
            }

            // Discord default sticker button
            .standardStickerShortcut-ObSns3 {
                background: var(--xp-bg-tint-color);
            }

            // Emoji info
            .inspector-DFKXwB {
                background: var(--xp-bg-tint-color);
            }
        }

        .categoryList-2qRrlj {
            background: var(--xp-bg-tint-color);
        }

        // Gif picker
        #gif-picker-tab-panel {
            background: var(--xp-bg-tint-color);

            // Back button
            .backButton-bSKWLe {
                color: var(--xp-txt-color);
            }

            // Favs category
            .categoryFadeBlurple-1l49_Q {
                background: var(--xp-zing-color);
            }

            // Item / category
            .result-pzZrwj {
                background-color: var(--xp-bg-color) !important;

                &::after {
                    box-shadow: inset 0 0 0 2px var(--xp-bg-color);
                    border-radius: 0;
                }
            }

            // Hovered
            .focused-16Owih,
            .result-pzZrwj:hover {
                box-shadow: 0 11px 22px 1px var(--xp-zing-color);
            }

            // Placeholder for loading gif
            .placeholder-T1Tuu8 {
                border-radius: 0;
                background: var(--xp-set-color);
            }
        }
    }

    // Modals
    // BSOD
    .backdrop-2ByYRN {
        background: var(--bsod-color, navy) !important;
        opacity: 1 !important;

        &::before {
            content: var(--bsod-text, var(--bsod-text-original));
            white-space: pre-wrap;
            display: block;
            font-family: "Courier New", Courier, monospace;
            font-size: 20px;
            color: white;
            margin: 40px;
        }
    }

    // Modal item
    .layer-fP3xEz {
        align-items: flex-end;
        padding-right: 10vw;

        .focusLock-bHVOlV {
            border: 2px solid white;
            padding: 5px;
            background: var(--bsod-color, rgba(0, 0, 128, 0.8));
        }
    }
}
